/*
 * Copyright 2023 EMBEDIAN, INC.
 */

/ {
	backlight_lvds0: backlight_lvds@0 {
		compatible = "pwm-backlight";
		pwms = <&pwm_lvds0 0 100000 0>;
		brightness-levels = < 0  1  2  3  4  5  6  7  8  9
				     10 11 12 13 14 15 16 17 18 19
				     20 21 22 23 24 25 26 27 28 29
				     30 31 32 33 34 35 36 37 38 39
				     40 41 42 43 44 45 46 47 48 49
				     50 51 52 53 54 55 56 57 58 59
				     60 61 62 63 64 65 66 67 68 69
				     70 71 72 73 74 75 76 77 78 79
				     80 81 82 83 84 85 86 87 88 89
				     90 91 92 93 94 95 96 97 98 99
				    100>;
		default-brightness-level = <80>;
		status = "okay";
	};

	backlight_lvds1: backlight_lvds@1 {
		compatible = "pwm-backlight";
		pwms = <&pwm_lvds1 0 100000 0>;
		brightness-levels = < 0  1  2  3  4  5  6  7  8  9
				     10 11 12 13 14 15 16 17 18 19
				     20 21 22 23 24 25 26 27 28 29
				     30 31 32 33 34 35 36 37 38 39
				     40 41 42 43 44 45 46 47 48 49
				     50 51 52 53 54 55 56 57 58 59
				     60 61 62 63 64 65 66 67 68 69
				     70 71 72 73 74 75 76 77 78 79
				     80 81 82 83 84 85 86 87 88 89
				     90 91 92 93 94 95 96 97 98 99
				    100>;
		default-brightness-level = <80>;
		status = "okay";
	};

	panel0: panel@0 {
		compatible ="innolux,p120zdg-bf1";
		backlight = <&backlight_lvds0>;
		enable-gpios = <&lsio_gpio1 5 0>;    /* Enable LCD_VDD_EN pin */

		port {
			panel0_in_edp: endpoint {
				remote-endpoint = <&sn65dsi86_0_out>;
			};
		};
	};

	panel1: panel@1 {
		compatible ="innolux,p120zdg-bf1";
		backlight = <&backlight_lvds1>;
		enable-gpios = <&lsio_gpio1 11 0>;	/* Enable LCD_VDD_EN pin */

		port {
			panel1_in_edp: endpoint {
				remote-endpoint = <&sn65dsi86_1_out>;
			};
		};
	};

	/* external 27M oscillator for SN65DSI86 */
	edp0_osc: edp_osc@0 {
		compatible = "fixed-clock";
		#clock-cells = <0>;
		enable-active-high;
		clock-frequency  = <27000000>;
	};

	edp1_osc: edp_osc@1 {
		compatible = "fixed-clock";
		#clock-cells = <0>;
		enable-active-high;
		clock-frequency  = <27000000>;
	};
};

&i2c0_mipi0 {
	#address-cells = <1>;
	#size-cells = <0>;
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_mipi0_lpi2c0>;
	clock-frequency = <100000>;
	status = "okay";

	sn65dsi86_bridge0: bridge@2c {
		#address-cells = <1>;
		#size-cells = <0>;

		compatible = "ti,sn65dsi86";
		reg = <0x2c>;

		interrupt-parent = <&lsio_gpio1>;
		interrupts = <19 IRQ_TYPE_LEVEL_HIGH>;

		enable-gpios = <&lsio_gpio1 18 GPIO_ACTIVE_HIGH>;

		vpll-supply = <&reg_1p8v>;
		vccio-supply = <&reg_1p8v>;
		vcca-supply = <&reg_1p2v>;
		vcc-supply = <&reg_1p2v>;

		clocks = <&edp0_osc>;
		clock-names = "refclk";
		status = "okay";

		ports {
			#address-cells = <1>;
			#size-cells = <0>;
			port@0 {
				reg = <0>;
				sn65dsi86_0_in: endpoint {
					remote-endpoint = <&mipi0_edp_out>;
                        	};

                	};

			port@1 {
				reg = <1>;
				sn65dsi86_0_out: endpoint {
					remote-endpoint = <&panel0_in_edp>;
				};
			};
		};
	};
};

&mipi0_dphy {
	status = "okay";
};

&mipi0_dsi_host {
	status = "okay";

	ports {
		port@1 {
			reg = <1>;
			mipi0_edp_out: endpoint {
				remote-endpoint = <&sn65dsi86_0_in>;
				data-lanes = <0 1 2 3>;
			};
		};
	};
};

&i2c0_mipi1 {
	#address-cells = <1>;
	#size-cells = <0>;
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_mipi1_lpi2c0>;
	clock-frequency = <100000>;
	status = "okay";

	sn65dsi86_bridge1: bridge@2c {
		#address-cells = <1>;
		#size-cells = <0>;

		compatible = "ti,sn65dsi86";
		reg = <0x2c>;

		interrupt-parent = <&lsio_gpio1>;
		interrupts = <23 IRQ_TYPE_LEVEL_HIGH>;

		enable-gpios = <&lsio_gpio1 22 GPIO_ACTIVE_HIGH>;

		vpll-supply = <&reg_1p8v>;
		vccio-supply = <&reg_1p8v>;
		vcca-supply = <&reg_1p2v>;
		vcc-supply = <&reg_1p2v>;

		clocks = <&edp1_osc>;
		clock-names = "refclk";
		status = "okay";

		ports {
			#address-cells = <1>;
			#size-cells = <0>;
			port@0 {
				reg = <0>;
				sn65dsi86_1_in: endpoint {
					remote-endpoint = <&mipi1_edp_out>;
				};
			};

			port@1 {
				reg = <1>;
				sn65dsi86_1_out: endpoint {
					remote-endpoint = <&panel1_in_edp>;
				};
			};
		};
	};
};

&mipi1_dphy {
	status = "okay";
};

&mipi1_dsi_host {
	status = "okay";

	ports {
		port@1 {
			reg = <1>;
			mipi1_edp_out: endpoint {
				remote-endpoint = <&sn65dsi86_1_in>;
				data-lanes = <0 1 2 3>;
			};
		};
	};
};

&ldb1_phy {
	status = "disabled";
};

&ldb1 {
	status = "disabled";
};

&ldb2_phy {
	status = "disabled";
};

&ldb2 {
	status = "disabled";
};
