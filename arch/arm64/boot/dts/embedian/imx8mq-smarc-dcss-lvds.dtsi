// SPDX-License-Identifier: (GPL-2.0 OR MIT)
/*
 * Copyright 2017 NXP
 * Copyright 2020 Embedian, Inc.
 * Copyright (C) 2017-2018 Pengutronix, Lucas Stach <kernel@pengutronix.de>
 */

/ {
	sound-hdmi {
		status = "disabled";
	};
};

/delete-node/ &hdmi;

&lcdif {
	status = "disabled";
};

&dcss {
        status = "okay";
        enable-gpios = <&gpio4 1 0>;    /* Enable LCD_VDD_EN pin */

        clocks = <&clk IMX8MQ_CLK_DISP_APB_ROOT>,
                 <&clk IMX8MQ_CLK_DISP_AXI_ROOT>,
                 <&clk IMX8MQ_CLK_DISP_RTRM_ROOT>,
                 <&clk IMX8MQ_CLK_DC_PIXEL>,
                 <&clk IMX8MQ_CLK_DISP_DTRC>;
        clock-names = "apb", "axi", "rtrm", "pix", "dtrc";
        assigned-clocks = <&clk IMX8MQ_CLK_DC_PIXEL>,
                                          <&clk IMX8MQ_VIDEO_PLL1_BYPASS>,
                                          <&clk IMX8MQ_VIDEO_PLL1_REF_SEL>,
                                          <&clk IMX8MQ_CLK_DISP_AXI>,
					  <&clk IMX8MQ_CLK_DISP_APB>,
                                          <&clk IMX8MQ_CLK_DISP_RTRM>;
        assigned-clock-parents = <&clk IMX8MQ_VIDEO_PLL1_OUT>,
                                                         <&clk IMX8MQ_VIDEO_PLL1>,
                                                         <&clk IMX8MQ_CLK_27M>,
							 <&clk IMX8MQ_SYS1_PLL_800M>,
                                                         <&clk IMX8MQ_SYS1_PLL_800M>,
                                                         <&clk IMX8MQ_SYS1_PLL_800M>;
        assigned-clock-rates = <600000000>, <0>, <0>,
                                                   <800000000>,
						   <25000000>,
                                                   <400000000>;

	port@0 {
		dcss_out: endpoint {
			remote-endpoint = <&dsi_from_dcss>;
		};
	};
};

&dsi_lvds_bridge {
        status = "okay";
};

&mipi_dsi {
        status = "okay";
       	fsl,clock-drop-level = <2>;
	#address-cells = <1>;
	#size-cells = <0>;

      	panel@0 {
		reg = <0>;
             	status = "okay";
              	/* AUO G070VW01 800x480 LVDS Display */
            	compatible = "auo,g070vw01";
            	/* AUO G185XW01 1366x768 LVDS Display */
              	/*compatible = "auo,g185xw01";*/
            	/* AUO G240HW01 1920x1080 LVDS Display */
            	/*compatible = "auo,g240hw01";*/
            	backlight = <&backlight>;
          	enable-gpios = <&gpio4 1 0>;    /* Enable LCD_VDD_EN pin */
               	dsi-lanes = <4>;
          	/* AUO G070VW01 800x480 LVDS Display */
               	panel-width-mm  = <152>;
              	panel-height-mm = <91>;
            	/* AUO G185XW01 1366x768 LVDS Display */
             	/*panel-width-mm  = <410>;
            	panel-height-mm = <230>;*/
           	/* AUO G240HW01 1920x1080 LVDS Display */
             	/*panel-width-mm  = <531>;
             	panel-height-mm = <299>;*/

             	delay,prepare = <120>;
        	port {
                	dsi_lvds_bridge_in: endpoint {
                        	remote-endpoint = <&mipi_dsi_out>;
                	};
        	};
        };

        ports {
                #address-cells = <1>;
                #size-cells = <0>;

                port@0 {
			#address-cells = <1>;
			#size-cells = <0>;
                        dsi_from_dcss: endpoint@1 {
				reg = <1>;
                                remote-endpoint = <&dcss_out>;
                        };
                };

                port@1 {
                        reg = <1>;
                        mipi_dsi_out: endpoint {
                                remote-endpoint = <&dsi_lvds_bridge_in>;
                        };
                };
        };
};

&dphy {
	status = "okay";
};

&pwm1 {
        status = "okay";
};

&backlight {
        status = "okay";
};
